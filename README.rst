<style>
table {
    display:table;
    width:100%;
}
</style>

======================
VHDL coding guidelines
======================

Это свод правил написания VHDL кода, скомпилированный на основании различных источников и личного опыта.

Предназначен в первую очередь для внутреннего использования, но стороннее "мнение", если такое будет, 
так же будет рассматриваться.


Варианты форматирования
=======================

==============  ==============================================================================================
     **Номер**  1.1                                                                                         \ 
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Используйте **строчные** буквы для всех ключевых слов языка программирования VHDL 
                и для все типов данных
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    signal sig_name : std_logic; -- верно
                    signal sig_name : std_logic; -- неверно
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.2                                                                                           
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Используйте **строчные** буквы для названий сигналов, переменных и портов.
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    signal sig_name : std_logic;                       -- верно
                    variable var_name : integer range 0 to 9;          -- верно
                    signal Sig_Name1, SIG_NAME2, SigName3 : std_logic; -- неверно
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.3                                                                                           
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Используйте **прописные** буквы для имен констант и пользовательских типов данных.
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    constant CONST_NAME : std_logic;          -- верно
                    type COLOR is (BLUE, GREEN, YELLOW, RED); -- верно
                    constant const_name : std_logic;          -- неверно
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.4                                                                                           
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Создаваемые имена для сигналов, портов, функций (и так далее) должны быть значащими 
                и понятными.
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  Для обозначения шины адреса RAM лучше использовать *ram_addr*, а не *ra*:
                
                .. code:: vhdl

                    ram_addr : out std_logic_vector(7 downto 0); -- верно
                    ra : out std_logic_vector(7 downto 0);       -- неверно
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.5                                                                                           
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Наименование тактовых сигналов должно быть **clk** или, если тактовых сигналов в блоке 
                несколько, с префиксом **clk\_** . После префикса должны идти осмысленные названия, 
                а не нумерация. 
                | Не допустимо: **clk1**, **clk2**, **clk_3**. 
                | Допустимо: **clk_interface**, **clk_spi**, **clk_high**
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    clk_gen : in std_logic; -- верно
                    clk50 : in std_logic;   -- неверно
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.6                                                                                           
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Сигнал сброса, активный в логической единице (active-high), должен называться **rst** или 
                иметь префикс **rst\_** . Сигнал сброса, активный в логическом нуле (active-low), должен 
                называться **rst_n**  или иметь префикс **rst\_** и постфикс **\_n**.
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    rst : in std_logic;       -- верно
                    rst_spi_n : in std_logic; -- верно
                    reset : in std_logic;     -- неверно
                    nreset : in std_logic;    -- неверно
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.7                                                                                           
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Однобитные сигналы, активные в логическом нуле (active-low),  должны содержать 
                в названии постфикс **\_n** .
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    enable_n : in std_logic; -- верно
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.8 
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Используйте нисходящий порядок битов в многобитных сигналах.
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    signal data : std_logic_vector(7 downto 0); -- верно
                    signal data : std_logic_vector(0 to 7);     -- неверно
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.9                                                                                          
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  Там где это возможно, используйте одинаковые или похожие имена портов и сигналов, 
                которые к ним подключаются 
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    port map(
                        clk => clk,           -- верно
                        data => spi_data,     -- верно
                        enable => spi_enable, -- верно
                        busy => wait          -- неверно
                    );
==============  ==============================================================================================

==============  ==============================================================================================
     **Номер**  1.\* 
--------------  ----------------------------------------------------------------------------------------------
  **Описание**  None
--------------  ----------------------------------------------------------------------------------------------
    **Пример**  .. code:: vhdl

                    -- None
==============  ==============================================================================================